{"version":3,"file":"manifest.get.mjs","sources":["../../../../../../node_modules/@nuxthub/core/dist/runtime/utils/cloudflareAccess.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/database/server/utils/database.js","../../../../../../node_modules/unstorage/drivers/utils/index.mjs","../../../../../../node_modules/unstorage/drivers/http.mjs","../../../../../../node_modules/unstorage/drivers/utils/cloudflare.mjs","../../../../../../node_modules/unstorage/drivers/cloudflare-kv-binding.mjs","../../../../../../node_modules/@nuxthub/core/dist/runtime/kv/server/utils/kv.js","../../../../../../node_modules/mime/dist/types/other.js","../../../../../../node_modules/mime/dist/types/standard.js","../../../../../../node_modules/mime/dist/src/Mime.js","../../../../../../node_modules/mime/dist/src/index.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/blob/server/utils/cloudflare.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/utils/cloudflare.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/blob/server/utils/blob.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/utils/stream.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/vectorize/server/utils/vectorize.js","../../../../../../node_modules/@nuxthub/core/dist/runtime/base/server/api/_hub/manifest.get.js"],"sourcesContent":null,"names":["getCloudflareAccessHeaders","access","clientId","clientSecret","_db","hubDatabase","requireNuxtHubFeature","hub","useRuntimeConfig","binding","process","env","DB","globalThis","__env__","remote","projectUrl","cfAccessHeaders","cloudflareAccess","secretKey","headers","d1API","ofetch","create","baseURL","joinURL","method","Authorization","async","query","body","catch","handleProxyError","prepare","stmt","_body","params","bind","all","this","raw","options","run","first","colName","then","res","batch","statements","map","smtm","proxyHubDatabase","projectSecretKey","userToken","createError","err","statusCode","message","data","driver","opts","Error","captureStackTrace","httpDriver","r","key","base","replace","rBase","catchFetchError","error","fallbackVal","response","status","getHeaders","topts","defaultHeaders","ttl","name","hasItem","_fetch","tops","responseType","accept","_data","getMeta","mtime","_lastModified","get","Date","_ttl","Number","parseInt","setItem","value","setItemRaw","removeItem","getKeys","Array","isArray","clear","getKVBinding","bindingName","getBinding","cloudflareKVBindingDriver","keys","sep","normalizeKey","filter","Boolean","join","joinKeys","cursor","kvList","list","prefix","push","list_complete","getInstance","getItem","put","expirationTtl","Math","max","minTTL","delete","slice","length","Promise","_kv","hubKV","KV","createStorage","proxyHubKV","types","Object","freeze","_Mime_extensionToType","_Mime_typeToExtension","_Mime_typeToExtensions","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","WeakMap","mime","constructor","args","set","Map","arg","define","typeMap","force","type","extensions","entries","toLowerCase","ext","Set","allExtensions","extension","starred","startsWith","add","currentType","getType","path","last","hasPath","getExtension","split","trim","getAllExtensions","_freeze","values","_getTestState","standardTypes","otherTypes","createCloudflareR2Credentials","accountId","apiToken","bucketId","$api","basePath","createCloudflareAPI","accessKeyId","res2","result","id","parentAccessKeyId","ttlSeconds","permission","prefixes","objects","pathnames","onResponseError","defaultMessage","statusMessage","errors","handleCloudflareError","bucketName","secretAccessKey","sessionToken","_r2_buckets","getBlobBinding","hubBlob","blobAPI","blob","limit","_event","pathname","encodeURIComponent","contentType","contentLength","headers2","Uint8Array","Blob","e","del","p","resumeMultipartUpload","uploadId","partNumber","abort","parts","event","readFormData","handleMultipartUpload","createMultipartUploadHandler","proxyHubBlob","bucket","_useBucket","resolvedOptions","defu","include","delimiter","folded","listed","hasMore","truncated","blobs","mapR2ObjectToBlob","folders","delimitedPrefixes","serve","decodeURIComponent","object","setHeader","httpMetadata","getContentType","size","httpEtag","optionsContentType","addRandomSuffix","customMetadata","dir","filename","parse","randomUUID","head","createMultipartUpload","mapR2MpuToBlobMpu","handleUpload","assertMethod","formKey","multiple","files","getAll","ensure","file","ensureBlob","createCredentials","cloudflare","NUXT_HUB_PROJECT_DEPLOY_TOKEN","NUXT_HUB_ENV","$fetch","projectKey","url","authorization","createHandler","getValidatedRouterParams","z.object","z.string","min","getHeader","uploadHandler","getValidatedQuery","z.coerce","number","stream","getRequestWebStream","streamSize","bytesRead","reader","getReader","done","read","streamToArrayBuffer","mpu","uploadPart","completeHandler","readValidatedBody","z.array","z.number","etag","complete","abortHandler","action","z.enum","handler","respondWith","Response","json","sendNoContent","pathOrExtension","uploadedAt","uploaded","uploadedParts","FILESIZE_UNITS","maxSize","maxFileSizeBytes","input","regex","RegExp","match","sizeValue","parseFloat","sizeUnit","toUpperCase","includes","bytes","pow","indexOf","floor","fileSizeToBytes","blobShortType","_vectorize","hubVectorize","index","console","warn","vectorizeAPI","vectors","ids","proxyHubVectorize","manifest_get","eventHandler","requireNuxtHubAuthorization","version","cache","ai","analytics","browser","kv","database","vectorize","dbCheck","kvCheck","blobCheck","vectorizeCheck","falseIfFail","exec","vectorizeIndex","describe","enabledVectorizeIndexes","fromEntries","find","enabled","storage","features","fn"],"mappings":"","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}