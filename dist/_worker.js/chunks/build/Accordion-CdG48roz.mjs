import{i as e,d as a,e as l,f as t,P as n,v as o,u as i,t as r,g as s,h as u,r as d,j as c,k as p}from"./server.mjs";import{u as m}from"../_/useDirection.mjs";import{P as f}from"../_/nitro.mjs";import{c as g,d as v,t as y,A as b,D as h,B as x,g as V,u as S,a1 as k,Q as I,S as _,Z as w,R as C,W as B,X as $}from"../routes/renderer.mjs";import{C as q,a as A,b as N}from"../_/CollapsibleTrigger.mjs";import{u as D}from"../_/useId.mjs";import"../_/shared.esm-bundler.mjs";import"node:buffer";import"node:timers";import"node:events";import"node:process";import"cloudflare:workers";import"node:async_hooks";import"node:path";import"node:fs/promises";import"node:module";const K=["INPUT","TEXTAREA"];function useArrowNavigation(e,a,l,t={}){if(!a||t.enableIgnoredElement&&K.includes(a.nodeName))return null;const{arrowKeyOptions:n="both",attributeName:o="[data-reka-collection-item]",itemsArray:i=[],loop:r=!0,dir:s="ltr",preventScroll:u=!0,focus:d=!1}=t,[c,p,m,f,g,v]=["ArrowRight"===e.key,"ArrowLeft"===e.key,"ArrowUp"===e.key,"ArrowDown"===e.key,"Home"===e.key,"End"===e.key],y=m||f,b=c||p;if(!g&&!v&&(!y&&!b||"vertical"===n&&b||"horizontal"===n&&y))return null;const h=l?Array.from(l.querySelectorAll(o)):i;if(!h.length)return null;u&&e.preventDefault();let x=null;if(b||y){x=findNextFocusableElement(h,a,{goForward:y?f:"ltr"===s?c:p,loop:r})}else g?x=h.at(0)||null:v&&(x=h.at(-1)||null);return d&&x?.focus(),x}function findNextFocusableElement(e,a,l,t=e.length){if(0===--t)return null;const n=e.indexOf(a),o=l.goForward?n+1:n-1;if(!l.loop&&(o<0||o>=e.length))return null;const i=e[(o+e.length)%e.length];if(!i)return null;return i.hasAttribute("disabled")&&"false"!==i.getAttribute("disabled")?findNextFocusableElement(e,i,l,t):i}function getDefaultType({type:e,defaultValue:a,modelValue:l}){return e||function({type:e,defaultValue:a,modelValue:l}){const t=l||a;return void 0!==l||void 0!==a?Array.isArray(t)?"multiple":"single":e??"single"}({type:e,defaultValue:a,modelValue:l})}function getDefaultValue({type:e,defaultValue:a}){return void 0!==a?a:"single"===e?void 0:[]}function useSingleOrMultipleValue(l,t){const n=g(()=>getDefaultType(l)),o=a(l,"modelValue",t,{defaultValue:getDefaultValue(l),passive:void 0===l.modelValue,deep:!0});const i=g(()=>"single"===n.value);return{modelValue:o,changeModelValue:function(a){if("single"===n.value)o.value=f(a,o.value)?void 0:a;else{const n=Array.isArray(o.value)?[...o.value||[]]:[o.value].filter(Boolean);if(t=a,!e(l=n)&&(Array.isArray(l)?l.some(e=>f(e,t)):f(l,t))){const e=n.findIndex(e=>f(e,a));n.splice(e,1)}else n.push(a);o.value=n}var l,t},isSingle:i}}const[O,T]=l("AccordionRoot");var E=v({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=a,{dir:i,disabled:r,unmountOnHide:s}=y(l),u=m(i),{modelValue:d,changeModelValue:c,isSingle:p}=useSingleOrMultipleValue(l,o),{forwardRef:f,currentElement:g}=t();return T({disabled:r,direction:u,orientation:l.orientation,parentElement:g,isSingle:p,collapsible:l.collapsible,modelValue:d,changeModelValue:c,unmountOnHide:s}),(e,a)=>(h(),b(S(n),{ref:S(f),"as-child":e.asChild,as:e.as},{default:x(()=>[V(e.$slots,"default",{modelValue:S(d)})]),_:3},8,["as-child","as"]))}}),R=function(e){return e.Open="open",e.Closed="closed",e}(R||{});const[M,j]=l("AccordionItem");var H=v({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e,{expose:a}){const l=e,n=O(),o=g(()=>n.isSingle.value?l.value===n.modelValue.value:Array.isArray(n.modelValue.value)&&n.modelValue.value.includes(l.value)),i=g(()=>n.disabled.value||l.disabled),r=g(()=>i.value?"":void 0),s=g(()=>o.value?R.Open:R.Closed);a({open:o,dataDisabled:r});const{currentRef:u,currentElement:d}=t();function handleArrowKey(e){const a=e.target;if(-1===Array.from(n.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(e=>e===a))return null;useArrowNavigation(e,a,n.parentElement.value,{arrowKeyOptions:n.orientation,dir:n.direction.value,focus:!0})}return j({open:o,dataState:s,disabled:i,dataDisabled:r,triggerId:"",currentRef:u,currentElement:d,value:g(()=>l.value)}),(e,a)=>(h(),b(S(q),{"data-orientation":S(n).orientation,"data-disabled":r.value,"data-state":s.value,disabled:i.value,open:o.value,as:l.as,"as-child":l.asChild,"unmount-on-hide":S(n).unmountOnHide.value,onKeydown:k(handleArrowKey,["up","down","left","right","home","end"])},{default:x(()=>[V(e.$slots,"default",{open:o.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),F=v({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,l=O(),n=M();return t(),(e,t)=>(h(),b(S(A),{role:"region","as-child":a.asChild,as:e.as,"force-mount":a.forceMount,"aria-labelledby":S(n).triggerId,"data-state":S(n).dataState.value,"data-disabled":S(n).dataDisabled.value,"data-orientation":S(l).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:t[0]||(t[0]=e=>S(l).changeModelValue(S(n).value.value))},{default:x(()=>[V(e.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),P=v({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(e){const a=e,l=O(),o=M();return t(),(e,t)=>(h(),b(S(n),{as:a.as,"as-child":a.asChild,"data-orientation":S(l).orientation,"data-state":S(o).dataState.value,"data-disabled":S(o).dataDisabled.value},{default:x(()=>[V(e.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),z=v({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,l=O(),t=M();function changeItem(){const e=l.isSingle.value&&t.open.value&&!l.collapsible;t.disabled.value||e||l.changeModelValue(t.value.value)}return t.triggerId||=D(void 0,"reka-accordion-trigger"),(e,n)=>(h(),b(S(N),{id:S(t).triggerId,ref:S(t).currentRef,"data-reka-collection-item":"",as:a.as,"as-child":a.asChild,"aria-disabled":S(t).disabled.value||void 0,"aria-expanded":S(t).open.value||!1,"data-disabled":S(t).dataDisabled.value,"data-orientation":S(l).orientation,"data-state":S(t).dataState.value,disabled:S(t).disabled.value,onClick:changeItem},{default:x(()=>[V(e.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}});const U={slots:{root:"w-full",item:"border-b border-default last:border-b-0",header:"flex",trigger:"group flex-1 flex items-center gap-1.5 font-medium text-sm py-3.5 focus-visible:outline-primary min-w-0",content:"data-[state=open]:animate-[accordion-down_200ms_ease-out] data-[state=closed]:animate-[accordion-up_200ms_ease-out] overflow-hidden focus:outline-none",body:"text-sm pb-3.5",leadingIcon:"shrink-0 size-5",trailingIcon:"shrink-0 size-5 ms-auto group-data-[state=open]:rotate-180 transition-transform duration-200",label:"text-start break-words"},variants:{disabled:{true:{trigger:"cursor-not-allowed opacity-75"}}}},L={slots:{root:"my-5",trigger:"text-base"}},X={__name:"UAccordion",__ssrInlineRender:!0,props:{as:{type:null,required:!1},items:{type:Array,required:!1},trailingIcon:{type:[String,Object],required:!1},labelKey:{type:null,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},collapsible:{type:Boolean,required:!1,default:!0},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},type:{type:String,required:!1,default:"single"},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=a,n=o.useSlots(),s=i(),m=u(d(l,"as","collapsible","defaultValue","disabled","modelValue","unmountOnHide"),t),f=o.computed(()=>r({extend:r(U),...s.ui?.accordion||{}})({disabled:l.disabled}));return(a,t,i,r)=>{t(I(o.unref(E),o.mergeProps(o.unref(m),{type:e.type,class:f.value.root({class:[l.ui?.root,l.class]})},r),{default:o.withCtx((t,i,r,u)=>{if(!i)return[(o.openBlock(!0),o.createBlock(o.Fragment,null,o.renderList(l.items,(t,i)=>(o.openBlock(),o.createBlock(o.unref(H),{key:i,value:t.value||String(i),disabled:t.disabled,class:f.value.item({class:[l.ui?.item,t.ui?.item,t.class]})},{default:o.withCtx(({open:r})=>[o.createVNode(o.unref(P),{as:"div",class:f.value.header({class:[l.ui?.header,t.ui?.header]})},{default:o.withCtx(()=>[o.createVNode(o.unref(z),{class:f.value.trigger({class:[l.ui?.trigger,t.ui?.trigger],disabled:t.disabled})},{default:o.withCtx(()=>[o.renderSlot(a.$slots,"leading",{item:t,index:i,open:r,ui:f.value},()=>[t.icon?(o.openBlock(),o.createBlock(c,{key:0,name:t.icon,class:f.value.leadingIcon({class:[l.ui?.leadingIcon,t?.ui?.leadingIcon]})},null,8,["name","class"])):o.createCommentVNode("",!0)]),o.unref(p)(t,l.labelKey)||n.default?(o.openBlock(),o.createBlock("span",{key:0,class:f.value.label({class:[l.ui?.label,t.ui?.label]})},[o.renderSlot(a.$slots,"default",{item:t,index:i,open:r},()=>[o.createTextVNode(o.toDisplayString(o.unref(p)(t,l.labelKey)),1)])],2)):o.createCommentVNode("",!0),o.renderSlot(a.$slots,"trailing",{item:t,index:i,open:r,ui:f.value},()=>[o.createVNode(c,{name:t.trailingIcon||e.trailingIcon||o.unref(s).ui.icons.chevronDown,class:f.value.trailingIcon({class:[l.ui?.trailingIcon,t.ui?.trailingIcon]})},null,8,["name","class"])])]),_:2},1032,["class"])]),_:2},1032,["class"]),t.content||n.content||t.slot&&n[t.slot]||n.body||t.slot&&n[`${t.slot}-body`]?(o.openBlock(),o.createBlock(o.unref(F),{key:0,class:f.value.content({class:[l.ui?.content,t.ui?.content]})},{default:o.withCtx(()=>[o.renderSlot(a.$slots,t.slot||"content",{item:t,index:i,open:r,ui:f.value},()=>[o.createVNode("div",{class:f.value.body({class:[l.ui?.body,t.ui?.body]})},[o.renderSlot(a.$slots,t.slot?`${t.slot}-body`:"body",{item:t,index:i,open:r,ui:f.value},()=>[o.createTextVNode(o.toDisplayString(t.content),1)])],2)])]),_:2},1032,["class"])):o.createCommentVNode("",!0)]),_:2},1032,["value","disabled","class"]))),128))];i("\x3c!--[--\x3e"),w(l.items,(t,d)=>{i(I(o.unref(H),{key:d,value:t.value||String(d),disabled:t.disabled,class:f.value.item({class:[l.ui?.item,t.ui?.item,t.class]})},{default:o.withCtx(({open:i},r,u,m)=>{if(!r)return[o.createVNode(o.unref(P),{as:"div",class:f.value.header({class:[l.ui?.header,t.ui?.header]})},{default:o.withCtx(()=>[o.createVNode(o.unref(z),{class:f.value.trigger({class:[l.ui?.trigger,t.ui?.trigger],disabled:t.disabled})},{default:o.withCtx(()=>[o.renderSlot(a.$slots,"leading",{item:t,index:d,open:i,ui:f.value},()=>[t.icon?(o.openBlock(),o.createBlock(c,{key:0,name:t.icon,class:f.value.leadingIcon({class:[l.ui?.leadingIcon,t?.ui?.leadingIcon]})},null,8,["name","class"])):o.createCommentVNode("",!0)]),o.unref(p)(t,l.labelKey)||n.default?(o.openBlock(),o.createBlock("span",{key:0,class:f.value.label({class:[l.ui?.label,t.ui?.label]})},[o.renderSlot(a.$slots,"default",{item:t,index:d,open:i},()=>[o.createTextVNode(o.toDisplayString(o.unref(p)(t,l.labelKey)),1)])],2)):o.createCommentVNode("",!0),o.renderSlot(a.$slots,"trailing",{item:t,index:d,open:i,ui:f.value},()=>[o.createVNode(c,{name:t.trailingIcon||e.trailingIcon||o.unref(s).ui.icons.chevronDown,class:f.value.trailingIcon({class:[l.ui?.trailingIcon,t.ui?.trailingIcon]})},null,8,["name","class"])])]),_:2},1032,["class"])]),_:2},1032,["class"]),t.content||n.content||t.slot&&n[t.slot]||n.body||t.slot&&n[`${t.slot}-body`]?(o.openBlock(),o.createBlock(o.unref(F),{key:0,class:f.value.content({class:[l.ui?.content,t.ui?.content]})},{default:o.withCtx(()=>[o.renderSlot(a.$slots,t.slot||"content",{item:t,index:d,open:i,ui:f.value},()=>[o.createVNode("div",{class:f.value.body({class:[l.ui?.body,t.ui?.body]})},[o.renderSlot(a.$slots,t.slot?`${t.slot}-body`:"body",{item:t,index:d,open:i,ui:f.value},()=>[o.createTextVNode(o.toDisplayString(t.content),1)])],2)])]),_:2},1032,["class"])):o.createCommentVNode("",!0)];r(I(o.unref(P),{as:"div",class:f.value.header({class:[l.ui?.header,t.ui?.header]})},{default:o.withCtx((r,u,m,g)=>{if(!u)return[o.createVNode(o.unref(z),{class:f.value.trigger({class:[l.ui?.trigger,t.ui?.trigger],disabled:t.disabled})},{default:o.withCtx(()=>[o.renderSlot(a.$slots,"leading",{item:t,index:d,open:i,ui:f.value},()=>[t.icon?(o.openBlock(),o.createBlock(c,{key:0,name:t.icon,class:f.value.leadingIcon({class:[l.ui?.leadingIcon,t?.ui?.leadingIcon]})},null,8,["name","class"])):o.createCommentVNode("",!0)]),o.unref(p)(t,l.labelKey)||n.default?(o.openBlock(),o.createBlock("span",{key:0,class:f.value.label({class:[l.ui?.label,t.ui?.label]})},[o.renderSlot(a.$slots,"default",{item:t,index:d,open:i},()=>[o.createTextVNode(o.toDisplayString(o.unref(p)(t,l.labelKey)),1)])],2)):o.createCommentVNode("",!0),o.renderSlot(a.$slots,"trailing",{item:t,index:d,open:i,ui:f.value},()=>[o.createVNode(c,{name:t.trailingIcon||e.trailingIcon||o.unref(s).ui.icons.chevronDown,class:f.value.trailingIcon({class:[l.ui?.trailingIcon,t.ui?.trailingIcon]})},null,8,["name","class"])])]),_:2},1032,["class"])];u(I(o.unref(z),{class:f.value.trigger({class:[l.ui?.trigger,t.ui?.trigger],disabled:t.disabled})},{default:o.withCtx((r,u,m,g)=>{if(!u)return[o.renderSlot(a.$slots,"leading",{item:t,index:d,open:i,ui:f.value},()=>[t.icon?(o.openBlock(),o.createBlock(c,{key:0,name:t.icon,class:f.value.leadingIcon({class:[l.ui?.leadingIcon,t?.ui?.leadingIcon]})},null,8,["name","class"])):o.createCommentVNode("",!0)]),o.unref(p)(t,l.labelKey)||n.default?(o.openBlock(),o.createBlock("span",{key:0,class:f.value.label({class:[l.ui?.label,t.ui?.label]})},[o.renderSlot(a.$slots,"default",{item:t,index:d,open:i},()=>[o.createTextVNode(o.toDisplayString(o.unref(p)(t,l.labelKey)),1)])],2)):o.createCommentVNode("",!0),o.renderSlot(a.$slots,"trailing",{item:t,index:d,open:i,ui:f.value},()=>[o.createVNode(c,{name:t.trailingIcon||e.trailingIcon||o.unref(s).ui.icons.chevronDown,class:f.value.trailingIcon({class:[l.ui?.trailingIcon,t.ui?.trailingIcon]})},null,8,["name","class"])])];C(a.$slots,"leading",{item:t,index:d,open:i,ui:f.value},()=>{t.icon?u(I(c,{name:t.icon,class:f.value.leadingIcon({class:[l.ui?.leadingIcon,t?.ui?.leadingIcon]})},null,m,g)):u("\x3c!----\x3e")},u,m,g),o.unref(p)(t,l.labelKey)||n.default?(u(`<span class="${B(f.value.label({class:[l.ui?.label,t.ui?.label]}))}"${g}>`),C(a.$slots,"default",{item:t,index:d,open:i},()=>{u(`${$(o.unref(p)(t,l.labelKey))}`)},u,m,g),u("</span>")):u("\x3c!----\x3e"),C(a.$slots,"trailing",{item:t,index:d,open:i,ui:f.value},()=>{u(I(c,{name:t.trailingIcon||e.trailingIcon||o.unref(s).ui.icons.chevronDown,class:f.value.trailingIcon({class:[l.ui?.trailingIcon,t.ui?.trailingIcon]})},null,m,g))},u,m,g)}),_:2},m,g))}),_:2},u,m)),t.content||n.content||t.slot&&n[t.slot]||n.body||t.slot&&n[`${t.slot}-body`]?r(I(o.unref(F),{class:f.value.content({class:[l.ui?.content,t.ui?.content]})},{default:o.withCtx((e,n,r,s)=>{if(!n)return[o.renderSlot(a.$slots,t.slot||"content",{item:t,index:d,open:i,ui:f.value},()=>[o.createVNode("div",{class:f.value.body({class:[l.ui?.body,t.ui?.body]})},[o.renderSlot(a.$slots,t.slot?`${t.slot}-body`:"body",{item:t,index:d,open:i,ui:f.value},()=>[o.createTextVNode(o.toDisplayString(t.content),1)])],2)])];C(a.$slots,t.slot||"content",{item:t,index:d,open:i,ui:f.value},()=>{n(`<div class="${B(f.value.body({class:[l.ui?.body,t.ui?.body]}))}"${s}>`),C(a.$slots,t.slot?`${t.slot}-body`:"body",{item:t,index:d,open:i,ui:f.value},()=>{n(`${$(t.content)}`)},n,r,s),n("</div>")},n,r,s)}),_:2},u,m)):r("\x3c!----\x3e")}),_:2},r,u))}),i("\x3c!--]--\x3e")}),_:3},i))}}},Q=X.setup;X.setup=(e,a)=>{const l=o.useSSRContext();return(l.modules||(l.modules=new Set)).add("../node_modules/@nuxt/ui/dist/runtime/components/Accordion.vue"),Q?Q(e,a):void 0};const W={__name:"ProseAccordion",__ssrInlineRender:!0,props:{type:{type:String,required:!1,default:"multiple"},class:{type:null,required:!1},ui:{type:void 0,required:!1}},setup(e){const a=e,l=o.useSlots(),t=i(),n=o.computed(()=>r({extend:r(L),...t.ui?.prose?.accordion||{}})),u=o.ref(1),d=o.computed(()=>(u.value,l.default?.()?.flatMap(transformSlot).filter(Boolean)||[]));function transformSlot(e,a){return"symbol"==typeof e.type?e.children?.map(transformSlot):{index:a,label:e.props?.label||`${a}`,description:e.props?.description,icon:e.props?.icon,component:e}}return(l,t,i,r)=>{t(I(X,o.mergeProps({type:e.type,items:d.value,"unmount-on-hide":!1,class:a.class,ui:o.unref(s)(n.value(),a.ui)},r),{content:o.withCtx(({item:e},a,l,t)=>{if(!a)return[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.component)))];_(a,o.createVNode(o.resolveDynamicComponent(e.component),null,null),l,t)}),_:1},i))}}},Z=W.setup;W.setup=(e,a)=>{const l=o.useSSRContext();return(l.modules||(l.modules=new Set)).add("../node_modules/@nuxt/ui/dist/runtime/components/prose/Accordion.vue"),Z?Z(e,a):void 0};export{W as default};
//# sourceMappingURL=Accordion-CdG48roz.mjs.map
