import{d as e,e as a,f as t,P as n,m as o,n as s}from"../build/server.mjs";import{u as l}from"./useId.mjs";import{d,t as i,A as u,D as r,B as p,g as v,u as c,a as m,c as f,w as b,n as y,o as h,K as C,y as g,E as q}from"../routes/renderer.mjs";const[_,B]=a("CollapsibleRoot");var O=d({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(a,{expose:o,emit:s}){const l=a,d=e(l,"open",s,{defaultValue:l.defaultOpen,passive:void 0===l.open}),{disabled:m,unmountOnHide:f}=i(l);return B({contentId:"",disabled:m,open:d,unmountOnHide:f,onOpenToggle:()=>{m.value||(d.value=!d.value)}}),o({open:d}),t(),(e,a)=>(r(),u(c(n),{as:e.as,"as-child":l.asChild,"data-state":c(d)?"open":"closed","data-disabled":c(m)?"":void 0},{default:p(()=>[v(e.$slots,"default",{open:c(d)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),k=d({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(e,{emit:a}){const d=e,i=a,B=_();B.contentId||=l(void 0,"reka-collapsible-content");const O=m(),{forwardRef:k,currentElement:x}=t(),D=m(0),$=m(0),w=f(()=>B.open.value),H=m(w.value),I=m();b(()=>[w.value,O.value?.present],async()=>{await y();const e=x.value;if(!e)return;I.value=I.value||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const a=e.getBoundingClientRect();$.value=a.height,D.value=a.width,H.value||(e.style.transitionDuration=I.value.transitionDuration,e.style.animationName=I.value.animationName)},{immediate:!0});const N=f(()=>H.value&&B.open.value);return h(()=>{requestAnimationFrame(()=>{H.value=!1})}),o(x,"beforematch",e=>{requestAnimationFrame(()=>{B.onOpenToggle(),i("contentFound")})}),(e,a)=>(r(),u(c(s),{ref_key:"presentRef",ref:O,present:e.forceMount||c(B).open.value,"force-mount":!0},{default:p(({present:a})=>[C(c(n),g(e.$attrs,{id:c(B).contentId,ref:c(k),"as-child":d.asChild,as:e.as,hidden:a?void 0:c(B).unmountOnHide.value?"":"until-found","data-state":N.value?void 0:c(B).open.value?"open":"closed","data-disabled":c(B).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${$.value}px`,"--reka-collapsible-content-width":`${D.value}px`}}),{default:p(()=>[!c(B).unmountOnHide.value||a?v(e.$slots,"default",{key:0}):q("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),x=d({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e;t();const o=_();return(e,t)=>(r(),u(c(n),{type:"button"===e.as?"button":void 0,as:e.as,"as-child":a.asChild,"aria-controls":c(o).contentId,"aria-expanded":c(o).open.value,"data-state":c(o).open.value?"open":"closed","data-disabled":c(o).disabled?.value?"":void 0,disabled:c(o).disabled?.value,onClick:c(o).onOpenToggle},{default:p(()=>[v(e.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}});export{O as C,k as a,x as b};
//# sourceMappingURL=CollapsibleTrigger.mjs.map
